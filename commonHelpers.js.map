{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(search) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '43209712-864cbe761aaf2bd904c3cc70a',\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url).then(res => res.json());\n}\n","// =======================================\nfunction imgTemplate(data) {\n  const {\n    id,\n    largeImageURL,\n    webformatURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = data;\n  return `<li class=\"gallery-item data-id=\"${id}\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            width=\"360\"\n            height=\"200\"\n            src=\"${webformatURL}\"\n            data-source=\"${largeImageURL}\"\n            alt=\"${tags}\"\n          />\n          <ul class=\"gallery-description\">\n            <li class=\"gallery-description-item\"><span class=\"gallery-description-span\">Likes</span>${likes}</li>\n            <li class=\"gallery-description-item\"><span class=\"gallery-description-span\">Views</span>${views}</li>\n            <li class=\"gallery-description-item\"><span class=\"gallery-description-span\">Comments</span>${comments}</li>\n            <li class=\"gallery-description-item\"><span class=\"gallery-description-span\">Downloads</span>${downloads}</li>\n          </ul>\n        </a>\n      </li>`;\n}\n// =========================================\nexport function imagesTemplate(arr) {\n  return arr.map(imgTemplate).join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\n// ============================================\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst refs = {\n  formEl: document.querySelector('.search-form'),\n  imgListEl: document.querySelector('.gallery'),\n  loaderEl: document.querySelector('.loader'),\n};\n\n\n// ====================================================================================\nrefs.formEl.addEventListener('submit', event => {\n  event.preventDefault();\n  refs.imgListEl.innerHTML = '';\n  const search = event.target.elements.query.value.trim();\n  if (search) {\n    refs.loaderEl.classList.remove('is-hidden');\n    getImages(search)\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n\n        const markup = imagesTemplate(data.hits);\n        refs.imgListEl.insertAdjacentHTML('beforeend', markup);\n        refs.loaderEl.classList.add('is-hidden');\n        lightbox.refresh();\n      })\n      .catch(error => console.log(error));\n  } else {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'The search field is empty. Please try again!',\n    });\n  }\n\n  refs.formEl.reset();\n});\n\n// ========================================\n"],"names":["getImages","search","BASE_URL","END_POINT","params","url","res","imgTemplate","data","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","imagesTemplate","arr","lightbox","SimpleLightbox","refs","event","iziToast","markup","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAQ,CAChC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCXA,SAASC,EAAYC,EAAM,CACzB,KAAM,CACJ,GAAAC,EACA,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGR,EACJ,MAAO,oCAAoCC,CAAE;AAAA,wCACPC,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKlCC,CAAY;AAAA,2BACJD,CAAa;AAAA,mBACrBE,CAAI;AAAA;AAAA;AAAA,sGAG+EC,CAAK;AAAA,sGACLC,CAAK;AAAA,yGACFC,CAAQ;AAAA,0GACPC,CAAS;AAAA;AAAA;AAAA,YAInH,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIX,CAAW,EAAE,KAAK,EAAE,CACrC,CCxBA,MAAMY,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAO,CACX,OAAQ,SAAS,cAAc,cAAc,EAC7C,UAAW,SAAS,cAAc,UAAU,EAC5C,SAAU,SAAS,cAAc,SAAS,CAC5C,EAIAA,EAAK,OAAO,iBAAiB,SAAUC,GAAS,CAC9CA,EAAM,eAAc,EACpBD,EAAK,UAAU,UAAY,GAC3B,MAAMpB,EAASqB,EAAM,OAAO,SAAS,MAAM,MAAM,OAC7CrB,GACFoB,EAAK,SAAS,UAAU,OAAO,WAAW,EAC1CrB,EAAUC,CAAM,EACb,KAAKO,GAAQ,CACPA,EAAK,KAAK,QACbe,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,0EACd,CAAW,EAGH,MAAMC,EAASP,EAAeT,EAAK,IAAI,EACvCa,EAAK,UAAU,mBAAmB,YAAaG,CAAM,EACrDH,EAAK,SAAS,UAAU,IAAI,WAAW,EACvCF,EAAS,QAAO,CACxB,CAAO,EACA,MAAMM,GAAS,QAAQ,IAAIA,CAAK,CAAC,GAEpCF,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,8CACf,CAAK,EAGHF,EAAK,OAAO,OACd,CAAC"}